@model List<ShopTask.Models.Category>

@{ 
    int indexOfNewCategory = Model.IndexOf(Model.FirstOrDefault(category => category.Id == null));
}

<div class="update-validation-message">@Html.ValidationMessage("UpdateFailed")</div>

@Html.TextBoxFor(model => Model[indexOfNewCategory].Name, new { @class = "new-category-input", placeholder = "New Category" })

@for (int i =0; i < Model.Count(); i++)
{
    if (Model[i].Id != null)
    {
        @Html.HiddenFor(model => Model[i].Id)
        @Html.TextBoxFor(model => Model[i].Name, new { @class = "category-input" })
    }
}
